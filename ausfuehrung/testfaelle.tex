\section{Auswahl der Testfälle}
\label{sec:selectTestcases}

Die im in \autoref{sec:testcaseGeneration} beschriebenen Testfälle werden mithilfe verschiedener Variablen implementiert.
Relevant für die Ausführung eines Testfalles sind folgende, bereits in \autoref{lst:hadoopSimulationInit} gezeigte, Eigenschaften:

\lstinputlisting[label=lst:hadoopTest,style=cs,linerange={2-2,6-10},
caption={Zur Definition eines Testfalls relevante Felder}]
{./listings/hadoopSimulationInit.cs}

Da die jeweiligen Auswirkungen der Eigenschaften bereits in \autoref{sec:simulationModelInit} erläutert wurden, wird an dieser Stelle hierauf verweisen.

Zur Festlegung dieser Variablen und damit der Testfälle wurde zunächst eine Systematik entwickelt, nach welcher die Testfälle durchgeführt werden.
Hierfür wurden mithilfe des folgenden Programmcodes zunächst zwei Seeds ermittelt, welche als Basisseeds für die weiteren Testfälle dienen:

\lstinputlisting[label=lst:generateTestCaseSeeds,style=cs,
caption={Ermittlung der für die Testfälle genutzten Basisseeds}]
{./listings/generateTestCaseSeeds.cs}

Zur Festlegung der Werte zur generellen Wahrscheinlichkeiten zur Aktivierung bzw. Deaktivierung von Komponentenfehlern wurden zunächst über 20.000 mögliche Aktivierungen mit verschiedenen generellen Wahrscheinlichkeiten und Auslastungsgraden der Nodes simuliert.
Der dabei für die Testfälle ausgewählte Wert von 0,3 stellt hierbei eine ausgewogene Aktivierung bzw. Deaktivierung der Komponentenfehler bei unterschiedlichen Auslastungsgraden der Nodes dar.



Die Grundlage hierzu bilden die in \autoref{sec:testcaseGeneration} und \autoref{lst:hadoopTest} beschriebenen und gezeigten Variablen, die einen Testfall definieren.
Ebenfalls eine Rolle spielen das in \autoref{sec:implMutationTests} beschriebene Mutationsszenario.

Für die verschiedenen Variablen, die einen Testfall definieren, wurden folgende Werte verwendet:

\begin{table}[h]
    \begin{tabu}{c|[2pt]c|c|c}
    	             & Wert 1    &   Wert 2   &   Wert 3   \\ \tabucline[2pt]{-}
    	    Seed     & 0xE99032B & 0x4F009539 & 0x319140E0 \\ \hline
    	KF"=Wahrsch. & 0         &     0,3    &  \\ \hline
    	Hosts/Nodes  & 1/4       &     2/6    &  \\ \hline
    	  Clients    & 1         &      2     &
    \end{tabu}
    \caption[Übersicht der zur Testfallgenerierung genutzten Werte]
    {Übersicht der zur Testfallgenerierung genutzten Werte.
        Zur Aktivierung und Deaktivierung von Komponentenfehlern wird die jeweils gleiche generelle Wahrscheinlichkeit genutzt.
        Es wird zudem nur zwischen der Anzahl der Hosts unterschieden, die Anzahl der Nodes pro Host bleibt jeweils gleich (4 auf Host1, 2 auf Host2).}
    \label{tab:testCaseOverview}
\end{table}

Zur Ermittlung der drei verwendeten Seeds wurde folgender Programmcode ausgeführt:

\lstinputlisting[label=lst:generateTestCaseSeeds,style=cs,
caption={Ermittlung der für die Testfälle genutzten Seeds}]
{./listings/generateTestCaseSeeds.cs}

Zur Festlegung der Werte zur generellen Wahrscheinlichkeiten zur Aktivierung bzw. Deaktivierung von Komponentenfehlern wurden zunächst über 20.000 mögliche Aktivierungen mit verschiedenen generellen Wahrscheinlichkeiten und Auslastungsgraden der Nodes simuliert.
Der für die Testfälle ausgewählte Wert stellt hierbei eine ausgewogene Aktivierung bzw. Deaktivierung der Komponentenfehler bei unterschiedlichen Auslastungsgraden der Nodes dar.

Insgesamt ergeben die angegebenen Werte 24 Testfälle, die jeweils mit und ohne Mutationen im realen Cluster ausgeführt werden.
Die meisten Testfälle werden je einmal mit 5 sowie 12 Simulations"=Schritten ausgeführt.
Ausgenommen hiervon sind Testfälle mit 2 simulierten Clients und 12 Simulations"=Schritten, die nicht ausgeführt werden (vgl. \autoref{sec:implTestcases}).
Insgesamt ergibt das für die Simulation somit eine Datenbasis von 72 ausgeführten Testfällen.

Die Mindestdauer für einen Simulations"=Schritt wurde in allen Fällen auf 25 Sekunden festgelegt, da hierbei ein Großteil der ausgeführten Anwendungen auf dem Cluster erfolgreich beendet werden können ohne vorab von der nachfolgenden Anwendung beendet zu werden und dies auch eine zur Rekonfiguration von Hadoop ausreichende Zeitspanne darstellt.
Die Eingabedaten für die Anwendungen wurden vor jedem Testfall neu generiert.
