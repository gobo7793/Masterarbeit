\documentclass[12pt,a4paper]{scrreprt}
\usepackage{scrhack}

% Textkodierung Deutsch
\usepackage[ngerman]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage{xspace}

% Basisinfos
\title{Modellbasierte Testautomatisierung eines verteilen, adaptiven Load-Balancing-Systems}
\author{Gerald Siegert}
\date{\today}
\input{./settings/variablen}
\input{./settings/trennung}

% Seitenränder
\usepackage{geometry}
\geometry{left=35mm, right=20mm, top=25mm, bottom=20mm}

% Kopf/Fußzeilen
\usepackage[headsepline]{scrpage2}
\clearscrheadfoot
\pagestyle{scrheadings}

\ihead{\headmark}
\automark{chapter}
\ohead{\pagemark}
\cfoot[\pagemark]{}

\renewcommand*{\headfont}{\normalfont}
\setlength{\headheight}{1.5\baselineskip}

% Grafiken
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage[format=plain]{caption}

% Textfarben
\usepackage{xcolor}

% Abkürzungen
\usepackage[nohyperlinks,printonlyused]{acronym}

% Zeilenabstand
\usepackage[onehalfspacing]{setspace}
\usepackage{enumitem}
\setlist[itemize]{noitemsep}

% Literatur
\usepackage[style=numeric-comp,natbib=true,maxitems=1,backend=biber,sorting=none]{biblatex}
\usepackage[autostyle=true,german=quotes]{csquotes}
\addbibresource{./literatur.bib}
\addbibresource{./web.bib}
\addbibresource{./abbildungen.bib}

% Listings
\usepackage{listings}
\makeatletter
\definecolor{darkgreen}{rgb}{0,0.5,0}
\lstdefinestyle{base}{
    basicstyle=\footnotesize\ttfamily,
    frame=single,
    numbers=left,
    numberstyle=\tiny,
    breaklines=true,
    tabsize=2,
    captionpos=b,
}
\lstdefinestyle{cs}{
    language=[sharp]c,
    style=base,
    commentstyle=\color{darkgreen},
    keywordstyle=\color{blue},
    morekeywords={ nameof },
}
\lstdefinestyle{plain}{
    language={},
    style=base,
    tabsize=4,
    captionpos=t,
}
% Json Listings
\newcommand\JSONnumbervaluestyle{\color{blue}}
\newcommand\JSONstringvaluestyle{\color{red}}
% switch used as state variable
\newif\ifcolonfoundonthisline
\lstdefinestyle{json}
{
    style=base,
    captionpos=t,
    showstringspaces    = false,
    keywords            = {false,true},
    alsoletter          = 0123456789.,
    morestring          = [s]{"}{"},
    stringstyle         = \ifcolonfoundonthisline\JSONstringvaluestyle\fi,
    MoreSelectCharTable =%
    \lst@DefSaveDef{`:}\colon@json{\processColon@json},
    basicstyle          = \ttfamily,
    keywordstyle        = \ttfamily\bfseries,
}
% flip the switch if a colon is found in Pmode
\newcommand\processColon@json{%
    \colon@json%
    \ifnum\lst@mode=\lst@Pmode%
    \global\colonfoundonthislinetrue%
    \fi
}
\lst@AddToHook{Output}{%
    \ifcolonfoundonthisline%
    \ifnum\lst@mode=\lst@Pmode%
    \def\lst@thestyle{\JSONnumbervaluestyle}%
    \fi
    \fi
    %override by keyword style if a keyword is detected!
    \lsthk@DetectKeywords% 
}
% reset the switch at the end of line
\lst@AddToHook{EOL}%
{\global\colonfoundonthislinefalse}
%%%%%%%%%% end listings

% Verzeichnisse
\makeatletter
\renewcommand\listoffigures{%
    \section*{\listfigurename}\addcontentsline{toc}{section}{\listfigurename}%
    \@mkboth{\MakeUppercase\listfigurename}%
    {\listfigurename}%
    \@starttoc{lof}%
}
\renewcommand\listoftables{%
    \section*{\listtablename}\addcontentsline{toc}{section}{\listtablename}%
    \@mkboth{\MakeUppercase\listtablename}%
    {\listtablename}%
    \@starttoc{lot}%
}
\renewcommand\lstlistoflistings{%
    \section*{\lstlistlistingname}\addcontentsline{toc}{section}{\lstlistlistingname}%
    \@mkboth{\MakeUppercase\lstlistlistingname}%
    {\lstlistlistingname}%
    \@starttoc{lol}%
}
\makeatother

% Hurenkinder, Schusterjungen
\clubpenalty = 10000
\widowpenalty = 10000
\displaywidowpenalty = 10000 

% Referenzen
\usepackage[bookmarksnumbered]{hyperref}

\begin{document}
    % Titelseite
    \setcounter{page}{-100}
    \begin{titlepage}
        \begin{doublespace}
            \include{./settings/deckblatt}
        \end{doublespace}
    \end{titlepage}
    
    % Abstract
    \pagenumbering{Roman}
    \include{./abstract}
    
    % Verzeichnisse
    \newpage
    \begin{singlespace}
        \tableofcontents
        \include{./settings/verzeichnisse}
    \end{singlespace}
    
    % Inhalt    
    \newpage
    \pagenumbering{arabic}
    
    \include{./einleitung/einleitung}
    \include{./methodik/methodik}
    \include{./fallstudie/fallstudie}
    \include{./modell/modell}
    
    % Literatur
    \newpage
    \begin{singlespace}
        \addcontentsline{toc}{chapter}{Literatur}
        \renewcommand\refname{Literatur}
        \printbibliography
    \end{singlespace}
    
    % Anhang
    \newpage
    \appendix
    \input{./anhang/anhang}
\end{document}